<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      property="og:image"
      content="https://ribdexglobal.netlify.app/src/images/unforgettable%20journey.png"
    />
    <meta
      property="og:description"
      content="Ribdex Global is an educational travel consult that help to process seamless international educational opportunities across different countries. We help with providing a stress free educational support and educational professional support ranging across different tertiary institution and vocational institution."
    />
    <title>Ribdex Global Real Estate Services</title>
    <link
      rel="shortcut icon"
      href="./src/icons/RIBDEX.svg"
      type="image/x-icon"
    />
    <link href="/src/css/output.css" rel="stylesheet" />
    <script src="./src/js/script.js" defer></script>
  </head>
  <body
    class="max-w-screen-xlh-[144440px] bg-green-50 relative overflow-x-hidden"
  >
    <!-- Header/nav section -->
    <header class="z-[19999999] bg-white py-[19px] fixed top-0 right-0 left-0">
      <!-- logo -->
      <div class="container px-5 flex mx-auto justify-between items-center">
        <a href="./index.html">
          <div class="flex justify-start items-center gap-2.5">
            <img
              class="w-10 md:w-20 relative"
              src="/src/icons/RIBDEX.svg"
              alt="logo"
            />
          </div>
        </a>

        <!-- desktop nav menu -->
        <nav>
          <div class="hidden md:flex justify-start items-center gap-[17px]">
            <div class="justify-start items-end gap-[10px] flex">
              <a
                href="./index.html#"
                class="text-[#125505] hover:text-[#61C93A] text-xl font-bold font-head uppercase leading-[18px]"
              >
                home
              </a>
              <a
                href="#residence"
                class="text-[#125505] hover:text-[#61C93A] text-xl font-bold font-head uppercase leading-[18px]"
              >
                residence
              </a>
              <a
                href="#land"
                class="text-[#125505] hover:text-[#61C93A] text-xl font-bold font-head uppercase leading-[18px]"
              >
                land
              </a>
              <a
                href="./index.html#contact"
                class="text-[#125505] hover:text-[#61C93A] text-xl font-bold font-head uppercase leading-[18px]"
              >
                contact
              </a>
            </div>
          </div>

          <!-- hamburger menu -->
          <div id="hamburger-btn" class="md:hidden cursor-pointer">
            <img src="./src/icons/Frame 38menu.svg" alt="menu-icon" />
          </div>
        </nav>
      </div>

      <!-- mobile -->
      <div
        id="mobile-menu"
        class="absolute bg-white bg-opacity-70 top-full left-0 right-0 h-0 overflow-x-hidden flex flex-col justify-start items-start transition-all ease-in-out duration-[10ms]"
        style="backdrop-filter: blur(10px)"
      >
        <div class="justify-start items-start flex flex-col">
          <a
            href="./index.html#"
            class="hover:bg-[#61C93A] text-xl font-bold font-head uppercase leading-[18px] px-[20px] py-[16px] w-[100vw] text-[#125505]"
          >
            home
          </a>
          <a
            href="#residence"
            class="hover:bg-[#61C93A] text-xl font-bold font-head uppercase leading-[18px] px-[20px] py-[16px] w-[100vw] text-[#125505]"
          >
            residence
          </a>
          <a
            href="#land"
            class="hover:bg-[#61C93A] text-xl font-bold font-head uppercase leading-[18px] px-[20px] py-[16px] w-[100vw] text-[#125505]"
          >
            land
          </a>
          <a
            href="./index.html#contact"
            class="hover:bg-[#61C93A] text-xl font-bold font-head uppercase leading-[18px] px-[20px] py-[16px] w-[100vw] text-[#125505]"
          >
            contact
          </a>
        </div>
      </div>
    </header>

    <!-- hero section -->
    <div
      class="w-full z-[8] overflow-x-hidden pt-[180px] pb-[20px] md:pt-[240px] md:pb-[50px] bg-cover bg-center"
      style="
        background-image: url('./src/images/house1.jpg');
        background-position: center;
      "
    >
      <div
        class="container mx-auto z-[10] pt-[10px] pb-[10px] md:pb-0 px-[30px] md:px-[50px] flex flex-col justify-start items-center gap-[10px] md:gap-[30px] inline-flex"
      >
        <div
          class="self-stretch text-center text-white text-[25px] md:text-[54px] font-bold font-head uppercase leading-[28px] md:leading-[48.60px]"
        >
          Your One-Stop Real Estate Solution
        </div>
        <div
          class="self-stretch text-center text-white text-[13px] md:text-base font-normal font-body leading-tight"
        >
          Discover a wide range of properties, from residential to commercial, and expert services to match.
        </div>
      </div>
    </div>

    
    <!-- property listing -->
    <div class="bg-white py-[50px]">
      <!-- residence/house listing -->
      <div class="container mx-auto flex flex-col gap-[30px]" id="residence">
        <div class="justify-center items-center flex">
          <div class="text-black text-xl md:text-3xl font-bold font-head uppercase leading-[27px]">Residence Listing</div>
        </div>
      
        <div class="flex flex-wrap gap-[30px] justify-between" id="residence-card">
        </div>

        
        <div class="container mx-auto flex flex-col pt-[50px] gap-[30px]" id="land">
          <div class="justify-between items-start flex">
            <div class="text-black text-xl md:text-3xl font-bold font-head uppercase leading-[27px]">Land Listing</div>
          </div>
        
          <div class="flex flex-wrap gap-[30px] justify-between" id="land-card">
          </div>
        </div>
      </div>
    </div>

    <!-- copyright -->
    <div class="w-full bg-[#125505] py-[20px]">
      <div
        class="container mx-auto px-[10px] md:px-[105px] flex justify-between items-center"
      >
        <span
          class="text-white text-base md:text-xl font-light font-head uppercase"
          >© 
          <p class="copyright-year inline">2023</p> Ribdex Properties. Powered by Ribdex Properties</span>
        <div class="flex items-center gap-[10px]">
          <a
            href="/facebook"
            target="_blank"
            rel="noopener noreferrer"
          >
            <img
              src="./src/icons/Group 30facbook.svg"
              alt="facebook"
              class="w-[30px]"
            />
          </a>
          <a
            href="/twitter"
            target="_blank"
            rel="noopener noreferrer"
          >
            <img
              src="./src/icons/Group 31Xtwitter.svg"
              alt="X"
              class="w-[30px]"
            />
          </a>
          <a
            href="/instagram"
            target="_blank"
            rel="noopener noreferrer"
          >
            <img
              src="./src/icons/Group 32instagram.svg"
              alt="instagram"
              class="w-[30px]"
            />
          </a>
          <a
            href="http://linkedin.com/ribdex"
            target="_blank"
            rel="noopener noreferrer"
          >
            <img
              src="./src/icons/Group 33linkedin.svg"
              alt="linkedin"
              class="w-[30px]"
            />
          </a>
        </div>
      </div>
    </div>
  </body><script type="module">
    // Import the functions you need from the SDKs you need
    // Initialize Firebase
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-app.js";
    import {
      getDatabase,
      ref as databaseRef,
      set,
      get,
      child,
      update,
      remove,
    } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-database.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyCWQ552it5NQwc7LCqlZ9LS2TPfYRv5S9w",
      authDomain: "real-ribdex-property.firebaseapp.com",
      projectId: "real-ribdex-property",
      storageBucket: "real-ribdex-property.firebasestorage.app",
      messagingSenderId: "634531624880",
      appId: "1:634531624880:web:872297c7bfa67dd7150875",
      databaseURL: "https://real-ribdex-property-default-rtdb.firebaseio.com",
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    let propData = "";
    const resideEl = document.querySelector("#residence");
    const landEl = document.querySelector("#land");

    // display proerty per object parsed
    const dispProps = (objData) => {
      console.log(objData);
      for (const prop in objData) {
        if (prop !== "land") {
          // console.log(prop)
          for (const estate in objData[prop]) {
            const property = objData[prop][estate];
            let isAvailable;
            if (property.available){
              isAvailable = `<p style="top: 10px; right: 10px; padding: 10px 15px; font-weight: 800; background: green;" class="absolute top-[10px] right-[10px] bg-green-900 px-[15px] py-[10px] text-[12px] text-white">Available</p>`
            } else {
              isAvailable = `<p style="top: 10px; right: 10px; padding: 10px 15px; font-weight: 800; background: red;" class="absolute top-[10px] right-[10px] bg-red-900 px-[15px] py-[10px] text-[12px] text-white">Not Available</p>`
            }
            const formattedPrice = formatNumberWithCommas(property.priceNaira); // Format the price
            document.getElementById('residence-card').innerHTML += `<div
            class="rounded-[20px] w-[340px] overflow-x-hidden overflow-y-hidden"
            style="box-shadow: 0px 0px 38.9px -20px rgba(0, 0, 0, 0.25)"
          >
            <div class="relative w-full"><img
              src="${property.propertyImage}"
              class="w-full h-[280px]"
              alt=""
            /> ${isAvailable}</div>
            <div class="p-[20px] w-full flex flex-col gap-[15px]">
              <h6
                class="font-head text-[18px] text-[#26921E] uppercase font-bold"
              >
                ${estate}
              </h6>
              <span class="flex flex-row gap-[10px] text-[14px]"
                ><img src="./src/icons/location (2).svg" />
                <p>${property.propertyLocation}</p></span
              >
              <div class="flex justify-between w-full">
                <span
                  class="flex flex-row text-[14px] justify-center items-center"
                  ><img src="./src/icons/price.svg" />
                  <p>₦${formattedPrice}</p></span
                >
                <span
                  class="flex flex-row text-[14px] justify-center items-center"
                  ><img src="./src/icons/bed.svg" class="w-[30px] h-[30px]" />
                  <p>${property.propertySize} bedroom</p></span
                >
              </div>
              <a
                href="./prop.html?type=${property.propertyType}&title=${estate}"
                class="w-full flex justify-center items-center"
              >
                <button
                  type="submit"
                  class="py-4 px-5 bg-orange-600 text-white text-xl font-bold font-head uppercase leading-[18px]"
                >
                  explore now
                </button>
              </a>
            </div>
          </div>`
          }
        } else {
          for (const estate in objData[prop]) {
            const property = objData[prop][estate];
            let isAvailable;
            if (property.available){
              isAvailable = `<p style="top: 10px; right: 10px; padding: 10px 15px; font-weight: 800; background: green;" class="absolute top-[10px] right-[10px] bg-green-900 px-[15px] py-[10px] text-[12px] text-white">Available</p>`
            } else {
              isAvailable = `<p style="top: 10px; right: 10px; padding: 10px 15px; font-weight: 800; background: red;" class="absolute top-[10px] right-[10px] bg-red-900 px-[15px] py-[10px] text-[12px] text-white">Not Available</p>`
            }
            const formattedPrice = formatNumberWithCommas(property.priceNaira); // Format the price
            document.getElementById('land-card').innerHTML += `<div
            class="rounded-[20px] w-[340px] overflow-x-hidden overflow-y-hidden"
            style="box-shadow: 0px 0px 38.9px -20px rgba(0, 0, 0, 0.25)"
          >
            
            <div class="relative w-full"><img
              src="${property.propertyImage}"
              class="w-full h-[280px]"
              alt=""
            /> ${isAvailable}</div>
            <div class="p-[20px] w-full flex flex-col gap-[15px]">
              <h6
                class="font-head text-[18px] text-[#26921E] uppercase font-bold"
              >
                ${estate}
              </h6>
              <span class="flex flex-row gap-[10px] text-[14px]"
                ><img src="./src/icons/location (2).svg" />
                <p>${property.propertyLocation}</p></span
              >
              <div class="flex justify-between w-full">
                <span
                  class="flex flex-row text-[14px] justify-center items-center"
                  ><img src="./src/icons/price.svg" />
                  <p>₦${formattedPrice}</p></span
                >
                <span
                  class="flex flex-row text-[14px] justify-center items-center"
                  ><img src="./src/icons/bed.svg" class="w-[30px] h-[30px]" />
                  <p>${property.propertySize}sqm</p></span
                >
              </div>
              <a
                href="./prop.html?type=${property.propertyType}&title=${estate}"
                class="w-full flex justify-center items-center"
              >
                <button
                  type="submit"
                  class="py-4 px-5 bg-orange-600 text-white text-xl font-bold font-head uppercase leading-[18px]"
                >
                  explore now
                </button>
              </a>
            </div>
          </div>`
          }
        }
        console.log("done");
      }
    };

    function getpropIndv() {
      resideEl.classList.add("hidden");
      landEl.classList.add("hidden");
      const database = getDatabase();
      const dataRef = databaseRef(database, "properties/");
      console.log("startting");

      get(dataRef)
        .then((snapshot) => {
          if (snapshot.exists()) {
            console.log(snapshot);
            let propDatas = snapshot.val();
            propData = propDatas;
            localStorage.setItem("propDataStore", JSON.stringify(propData));
            const lsPropData = JSON.parse(
              localStorage.getItem("propDataStore")
            );
            resideEl.classList.remove("hidden");
            landEl.classList.remove("hidden");
            dispProps({ land: lsPropData["land"] });
            dispProps({ rent: lsPropData["rent"] });
            dispProps({ house: lsPropData["house"] });
          } else {
            console.log("No data available");
          }
        })
        .catch((error) => {
          console.error(error);
        });
    }
    getpropIndv();

    // format price to display with ',' - comma
    function formatNumberWithCommas(number) {
      return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }
  </script>
</html>
